import{a as g}from"./axios-BCTQ_kMI.js";import{d as v,r,K as b,o as k,l as s,m as t,u as d,v as e,F as w,y as C,B as f,D as j,s as q,E as F,n as N,q as $,x as z,z as c}from"./index-DDgAzDTH.js";import{u as B}from"./useQuery-BerbIKsq.js";const E={class:"py-12"},M={key:0,class:"space-y-6"},R={class:"flex flex-col space-y-4"},T={class:"flex flex-col gap-7"},V={class:"font-medium text-3xl md:text-2xl text-right"},D={class:"font-medium"},K={key:1,class:"flex justify-center"},L=e("span",{class:"animate-pulse text-2xl font-medium"},"Loading...",-1),H=[L],Q={key:2,class:"flex justify-center"},S=e("span",{class:"text-3xl font-medium"},"No Data Found",-1),A=[S],P=v({__name:"HadithList",setup(G){const u=q(),a=r(1),l=r(20);r(!1);const{data:m,isFetching:p,refetch:h}=B({queryKey:["hadith",u.query.hadith_name],queryFn:async()=>await g.get(`https://api.hadith.gading.dev/books/${u.query.hadith_name}?range=${a.value}-${l.value}`).then(n=>n.data),onError:n=>b.error(n.response.data.message),enabled:!0,cacheTime:0}),_=n=>{n=="minus"?(a.value=Math.max(1,a.value-20),l.value=Math.max(20,l.value-20)):(a.value+=20,l.value+=20),window.scrollTo(0,0),h()};return k(()=>{window.scrollTo(0,0)}),(n,i)=>{var x;const y=F("spdan");return s(),t("main",E,[d(p)?(s(),t("div",K,H)):(s(),t("div",M,[e("div",R,[(s(!0),t(w,null,C(d(m).data.hadiths,o=>(s(),t("div",{class:"p-5 bg-white rounded-lg shadow-md flex flex-col space-y-6",key:o.number},[e("div",T,[N(y,{class:"font-semibold"},{default:$(()=>[z("Hadits Ke "+c(o.number),1)]),_:2},1024),e("span",V,c(o.arab),1)]),e("span",D,c(o.id),1)]))),128))]),e("div",{class:j(["flex",a.value==1?"justify-end":"justify-between"])},[a.value!==1?(s(),t("button",{key:0,class:"underline text-lg md:text-sm text-green-600 capitalize",onClick:i[0]||(i[0]=o=>_("minus"))},"sebelumnya")):f("",!0),e("button",{class:"underline text-lg md:text-sm text-green-600 capitalize",onClick:i[1]||(i[1]=o=>_("plus"))},"selanjutnya")],2)])),(x=d(m))!=null&&x.error?(s(),t("div",Q,A)):f("",!0)])}}});export{P as default};
